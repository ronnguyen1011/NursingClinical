<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clinical Requirements</title>
    <link rel="icon" type="image/x-icon" href="/nursing-images/nursing-logo.png">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/css/nursing.css">
</head>
<body>
    <h1 class="text-center my-3">
        Clinical Requirements
    </h1>

    <div class="row">
        <div class="col-md-1 col-lg-2">
        </div>
        <div class="col-12 col-md-10 col-lg-8">
            <div class="accordion" id="requirements-accordion">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="tuberculosis-test-heading">
                        <button class="accordion-button collapsed" type="button"
                                data-bs-toggle="collapse" data-bs-target="#tuberculosis-test-info"
                                aria-expanded="true" aria-controls="tuberculosis-test-info">
                            Tuberculosis Test
                        </button>
                    </h2>
                    <div class="accordion-collapse collapse" id="tuberculosis-test-info"
                         aria-labelledby="tuberculosis-test-heading">
                        <div class="accordion-body p-0">
                            <ul class="list-group list-group-flush text-center requirement-notes">
                                <li class="list-group-item">
                                    <b>Expires Yearly</b>
                                </li>
                            </ul>
                            <table class="table m-0 align-middle requirement-data">
                                <tbody class="text-center">
                                    <tr>
                                        <th class="col-5">
                                            2-step PPD
                                        </th>
                                        <th class="col-1 border-0 table-or-column">
                                        </th>
                                        <th class="col-5">
                                            QuantiFERON
                                        </th>
                                    </tr>
                                    <tr>
                                        <td class="border p-0">
                                            <ul class="list-group list-group-flush">
                                                <li class="list-group-item">
                                                    Must be two separate 2-step PPD tests done initially done
                                                    approximately 2 weeks apart
                                                </li>
                                                <li class="list-group-item">
                                                    Document must show induration in millimeter, date placed,
                                                    and date read
                                                </li>
                                            </ul>
                                        </td>
                                        <td class="table-or-column">
                                            <h3>
                                                <b>OR</b>
                                            </h3>
                                        </td>
                                        <td class="border p-0">
                                            <ul class="list-group list-group-flush">
                                                <li class="list-group-item">
                                                    Results must be negative
                                                </li>
                                            </ul>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="varicella-vaccine-or-titer-heading">
                        <button class="accordion-button collapsed" type="button"
                                data-bs-toggle="collapse" data-bs-target="#varicella-vaccine-or-titer-info"
                                aria-controls="varicella-vaccine-or-titer-info">
                            Varicella Vaccine or Titer
                        </button>
                    </h2>
                    <div class="accordion-collapse collapse" id="varicella-vaccine-or-titer-info"
                         aria-labelledby="tuberculosis-test-heading">
                        <div class="accordion-body p-0">
                            <div>
                                History of Chickenpox not accepted
                            </div>
                            <table class="table m-0 align-middle requirement-data">
                                <tbody class="text-center">
                                    <tr>
                                        <th class="col-5">
                                            2 documented vaccine dates
                                        </th>
                                        <th class="col-1 border-0 table-or-column">
                                        </th>
                                        <th class="col-5">
                                            Titer
                                        </th>
                                    </tr>
                                    <tr>
                                        <td class="border p-0">
                                        </td>
                                        <td class="table-or-column">
                                            <h3>
                                                <b>OR</b>
                                            </h3>
                                        </td>
                                        <td class="border p-0">
                                            <ul class="list-group list-group-flush">
                                                <li class="list-group-item">
                                                    If result is negative/low/equivocal must get booster dose
                                                </li>
                                            </ul>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-1 col-lg-2">
        </div>
    </div>

    <script>
        "use strict"; // make JS be more like Java

        // when the page loads
        window.addEventListener('load', function () {
            // setup accordion to respond to page resizing 
            window.addEventListener('resize', toggleResponsiveAccordion);

            // setup accordion when page first loads, in case user is on mobile
            toggleResponsiveAccordion();
        })
        
        /**
         * The standard mobile breakpoint is 576px
         */ 
        const MOBILE_BREAKPOINT = 576;

        /**
         * Returns true if the current window is <= 576px; otherwise false
         */ 
        function screenIsMobile() {
            return window.innerWidth < MOBILE_BREAKPOINT;
        }

        /**
         * All accordion items in the requirements accordion
         */
        const accordionItems = getByID('requirements-accordion').querySelectorAll('.accordion-item');
        
        /**
         * If the screen is currently mobile sized, opens all accordion items in the requirements accordion.
         * Otherwise, closes or keeps all accordion items closed.
         */
        function toggleResponsiveAccordion() {            
            // run through all items in the accordion
            accordionItems.forEach((currItem) => {
                // get the button that handles the collapse from the current item
                const collapseButton = currItem.querySelector('.accordion-button')

                // get the div that handles the collapse from the current item
                const collapseDiv = currItem.querySelector('.accordion-collapse')

                // if the screen is currently mobile-sized
                if (screenIsMobile()) {
                    // open the current accordion item
                    collapseButton.classList.remove('collapsed');
                    collapseDiv.classList.add('show');
                } 
                
                // if the screen size changed, but is not small enough to be considered mobile 
                else {
                    // close the current accordion item
                    collapseButton.classList.add('collapsed');
                    collapseDiv.classList.remove('show');
                }
            });
        }

        /**
         * Shortened form of the document.getElementById method
         * @param elementID The element's id
         * @returns The corresponding HTML Element
         */
        function getByID(elementID) {
            return document.getElementById(elementID);
        }
    </script>
</body>
</html>
